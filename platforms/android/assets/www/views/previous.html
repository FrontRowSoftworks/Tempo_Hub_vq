<ion-view view-title="Previous Week">
    <ion-content>
		<div ng-controller="PreviousCtrl">
			<center>
				<br ng-show="loading">
				<ion-spinner ng-show="loading"></ion-spinner>
			</center>
			<ion-list ng-show="videosAvailable">

				<div ng-repeat="video in previousVideos" ng-if="video.sorting == winningVideoSort && spotlight">
					<div class="ccc-spotlight-container">
						<center>
							<img class="ccc-spotlight-image" ng-src="{{video.thumbnail}}" ng-click ="previousCtrl.goToVideo(video)">
							<span class="ccc-spotlight-votes">{{video.votePercentage}}%</span>
							<span class="ccc-spotlight-details-title">{{video.title}}</span>
							<span class="ccc-spotlight-details-text">{{video.artist}}</span>
							<span class="ccc-spotlight-details-text">({{video.country}})</span>
						</center>
					</div>
				</div>
				<div ng-repeat="video in previousVideos" ng-if="!spotlight || (video.sorting != winningVideoSort && spotlight)">
					<div class="ccc-container">
						<div class="ccc-thumbnail-container">
							<img class="ccc-thumbnail" ng-src="{{video.thumbnail}}" ng-click ="previousCtrl.goToVideo(video)">
						</div>
						<div class="ccc-details-container">
							<span class="ccc-details-text ccc-details-title">{{video.title}}</span>
							<span class="ccc-details-text">{{video.artist}}</span>
							<span class="ccc-details-text">({{video.country}})</span>
						</div>
						<div class="ccc-votes-container">
							<span class="ccc-votes">{{video.votePercentage}}%</span>
						</div>
					</div>
				</div>
				<center>
					<h4 ng-hide="videosAvailable">Error retrieving videos, please try again!</h4>
				</center>
			</ion-list>
			<br><br>
		</div>
	</ion-content>
	<ion-footer-bar ng-controller="BannerCtrl" class="hide-on-keyboard-open">
		<div class="bannerContainer">
			<a href="#" ng-click="bannerCtrl.go()">
				<img src="img/ad-banner.png" class="banner">
			</a>
		</div>
		</center>
	</ion-footer-bar>
</ion-view>